<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>自由的灵魂</title>
    <style>
        body {
            background: radial-gradient(circle at center, #1a1a2e 0%, #000000 100%);
            color: #ffffff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
            overflow: hidden;
            position: relative;
        }

        /* 流星特效 */
        .night { position: absolute; width: 100%; height: 100%; transform: rotateZ(45deg); pointer-events: none; }
        .shooting_star {
            position: absolute; left: 50%; top: 50%; height: 2px;
            background: linear-gradient(-45deg, #5f91ff, rgba(0, 0, 255, 0));
            border-radius: 999px; filter: drop-shadow(0 0 6px #699bff);
            animation: tail 3000ms ease-in-out infinite, shooting 3000ms ease-in-out infinite;
        }
        @keyframes tail { 0% { width: 0; } 30% { width: 100px; } 100% { width: 0; } }
        @keyframes shooting { 0% { transform: translateX(0); } 100% { transform: translateX(300px); } }
        .shooting_star:nth-child(1) { top: 10%; left: 30%; animation-delay: 100ms; }
        .shooting_star:nth-child(2) { top: 30%; left: 60%; animation-delay: 1200ms; }
        .shooting_star:nth-child(3) { top: 50%; left: 20%; animation-delay: 2500ms; }
        .shooting_star:nth-child(4) { top: 15%; left: 75%; animation-delay: 4000ms; }

        h1 { font-weight: 200; letter-spacing: 8px; margin-bottom: 30px; z-index: 10; transition: 0.5s; }
        
        .enter-btn {
            padding: 15px 40px; background: transparent; border: 1px solid white;
            color: white; text-decoration: none; cursor: pointer; z-index: 10;
            font-size: 1rem; transition: 0.4s;
        }
        .enter-btn:hover { background: white; color: black; }

        /* 聊天窗口容器 */
        #chat-container {
            display: none; 
            flex-direction: column;
            align-items: center;
            width: 90%;
            max-width: 500px;
            z-index: 20;
            animation: fadeIn 0.8s;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        #chat-box {
            width: 100%; height: 350px; background: rgba(255,255,255,0.08);
            overflow-y: auto; padding: 15px; border-radius: 12px; 
            border: 1px solid rgba(255,255,255,0.1); margin-bottom: 15px; 
            text-align: left; backdrop-filter: blur(5px);
        }
        
        #input-area { width: 100%; display: flex; gap: 8px; }
        #msg-input { 
            flex: 1; padding: 12px; background: rgba(0,0,0,0.5); 
            border: 1px solid #444; color: white; border-radius: 6px; outline: none;
        }
        .action-btn { 
            padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; 
        }
        #send-btn { background: white; color: black; }
        #exit-btn { background: rgba(255,0,0,0.2); color: #ff6b6b; border: 1px solid rgba(255,0,0,0.3); }

        .footer-text { position: absolute; bottom: 30px; color: #666; font-size: 0.85rem; letter-spacing: 2px; }
    </style>
</head>
<body>

    <div class="night">
        <div class="shooting_star"></div>
        <div class="shooting_star"></div>
        <div class="shooting_star"></div>
        <div class="shooting_star"></div>
    </div>

    <h1 id="title">这里欢迎每一个渴望自由的灵魂</h1>
    
    <button id="start-btn" class="enter-btn" onclick="startChat()">开启偶遇</button>

    <div id="chat-container">
        <div id="chat-box">
            <div style="color: #888; text-align: center; font-size: 0.8rem; margin-bottom: 15px;">--- 已连接到深邃空间 ---</div>
        </div>
        <div id="input-area">
            <input type="text" id="msg-input" placeholder="写下你的灵魂感悟..." onkeydown="if(event.keyCode==13) sendMsg()">
            <button id="send-btn" class="action-btn" onclick="sendMsg()">发送</button>
            <button id="exit-btn" class="action-btn" onclick="exitChat()">离开</button>
        </div>
    </div>

    <div class="footer-text">自由是通向爱的大门</div>

    <script>
        function startChat() {
            document.getElementById('title').style.display = 'none';
            document.getElementById('start-btn').style.display = 'none';
            document.getElementById('chat-container').style.display = 'flex';
        }

        function sendMsg() {
            const input = document.getElementById('msg-input');
            const box = document.getElementById('chat-box');
            if (input.value.trim() !== "") {
                const msgDiv = document.createElement('div');
                msgDiv.style.margin = "10px 0";
                msgDiv.style.lineHeight = "1.5";
                msgDiv.innerHTML = `<span style="color: #5f91ff; font-weight: bold;">我:</span> <span style="color: #eee;">${input.value}</span>`;
                box.appendChild(msgDiv);
                input.value = "";
                box.scrollTop = box.scrollHeight;
            }
        }

        function exitChat() {
            if (confirm("确定要切断这次灵魂连接并离开吗？")) {
                // 隐藏聊天界面
                document.getElementById('chat-container').style.display = 'none';
                // 恢复初始界面
                document.getElementById('title').style.display = 'block';
                document.getElementById('start-btn').style.display = 'block';
                // 清空聊天记录，保持纯净
                document.getElementById('chat-box').innerHTML = '<div style="color: #888; text-align: center; font-size: 0.8rem; margin-bottom: 15px;">--- 已连接到深邃空间 ---</div>';
            }
        }
    </script>
</body>
</html>
